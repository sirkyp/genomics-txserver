{
  "server": {
    "port": 3000,
    "cors": {
      "origin": true,
      "credentials": true
    }
  },
  "modules": {
    "shl": {
      "enabled": false,
      "database": "shl.db",
      "password": "<!-- Uuid -->",
      "certificates": {
        "certFile": "<!-- filename -->",
        "keyFile": "<!-- filename -->",
        "kid": "<!-- kid -->"
      },
      "vhl": {
        "issuer": "XXX"
      },
      "cleanup": {
        "schedule": "0 * * * *"
      },
      "validator": {
        "enabled": true,
        "version": "4.0.1",
        "txServer": "http://tx.fhir.org/r4",
        "txLog": "./tx.log",
        "port": 8081,
        "packages": [
          "hl7.fhir.us.core#6.0.0",
          "hl7.fhir.uv.ips#1.1.0"
        ],
        "timeout": 60000
      }
    },
    "vcl": {
      "enabled": false
    },
    "xig": {
      "enabled": false,
      "autoUpdate": true
    },
    "packages": {
      "enabled": false,
      "database": "/absolute/path/to/packages.db",
      "mirrorPath": "/absolute/path/to/mirror",
      "crawler": {
        "enabled": true,
        "schedule": "0 * * * *"
      }
    },
    "registry": {
      "enabled": true,
      "masterUrl": "https://fhir.github.io/ig-registry/tx-servers.json",
      "crawlInterval": 30,
      "timeout": 30000,
      "userAgent": "YourServer/1.0",
      "apiKeys": {}
    },
    "publisher": {
      "enabled": true,
      "database": "/absolute/path/to/publisher.db",
      "sessionSecret": "change-this-to-a-secure-random-string",
      "workspaceRoot": "/absolute/path/to/workspaces"
    },
    "npmprojector": {
      "enabled": true,
      "fhirVersion": "r4",  // Options: "r4", "r5", "stu3", "dstu2"
      "basePath": "/fhir",   // Default: "/npmprojector"
      "npmPath": "./data/fhir-package",
      "resourceTypes": null,
      "searchParametersPath": null,
      "debounceMs": 500
    },
    "token": {
      "enabled": true,
      "database": "/absolute/path/to/token.db",
      "sessionSecret": "change-this-to-a-secure-random-string-for-token-sessions",
      "oauth": {
        "google": {
          "clientId": "your-google-client-id",
          "clientSecret": "your-google-client-secret",
          "redirectUri": "http://localhost:3000/token/callback/google",
          "scope": ["openid", "profile", "email"]
        },
        "facebook": {
          "clientId": "your-facebook-app-id",
          "clientSecret": "your-facebook-app-secret",
          "redirectUri": "http://localhost:3000/token/callback/facebook",
          "scope": ["email"]
        },
        "apple": {
          "clientId": "your-apple-service-id",
          "teamId": "your-apple-team-id",
          "keyId": "your-apple-key-id",
          "privateKey": "/path/to/apple-private-key.p8",
          "redirectUri": "http://localhost:3000/token/callback/apple",
          "scope": ["email", "name"]
        },
        "github": {
          "clientId": "your-github-client-id",
          "clientSecret": "your-github-client-secret",
          "redirectUri": "http://localhost:3000/token/callback/github",
          "scope": ["user:email"]
        }
      },
      "apiKeys": {
        "defaultAllowedRequests": 50,
        "maxKeysPerUser": 10,
        "keyExpiration": null
      },
      "rateLimit": {
        "windowMs": 900000,
        "max": 100
      }
    },
    "tx": {
      "enabled": false,
      "librarySource": "/absolute/path/to/library.yml",
      "endpoints": [
        {
          "path": "/tx/r5",
          "fhirVersion": "5.0",
          "context": null
        },
        {
          "path": "/tx/r4",
          "fhirVersion": "4.0",
          "context": null
        },
        {
          "path": "/tx/r3",
          "fhirVersion": "3.0",
          "context": null
        }
      ]
    }
  }
}